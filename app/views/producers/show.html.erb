<% if @producer.bg_photo.attached? %>
  <div class="bg-picture" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path @producer.bg_photo.key%>')">
<% else %>
  <div class="bg-picture" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1549301019-6013533c514d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1056&q=80')">
  </div>
<% end %>

<div class="container">

  <% if @producer.photo.attached? %>
    <div class="avatar-profile" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path @producer.photo.key%>')"></div>
  <% else %>
    <div class="avatar-profile" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('http://placehold.it/120x120')"></div>
  <% end %>
  <div class="text-center main-infos">
    <h2><%= @producer.name %></h2>
    <p><%= @producer.introduction %></p>
  </div>
  <hr>
  <div class="infos">
    <h3>Who are we?</h3>
    <p><%= @producer.introduction %></p>
    <h3>Where to find us?</h3>
  </div>
  <div class="map-placeholder" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1553290322-0440fe3b1ddd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80')"></div>
  <button type="button" class="btn btn-primary btn-block mt-3 mb-1 btn-products" data-toggle="modal" data-target="#ourProducts">Our products</button>

</div>



<!-- Modal -->
<% @producer.products.each do |product| %>
<div class="modal fade" id="ourProducts" tabindex="-1" role="dialog" aria-labelledby="ourProductsTitle" aria-hidden="true">
  <div class="modal-dialog m-0" role="document">
    <div class="modal-content" id="modalproducts">
      <div class="modal-header">
        <h5 class="modal-title" id="ourProductsTitle"><%= product.name %></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <%= product.price %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
<% end %>
